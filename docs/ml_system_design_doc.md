# ML System Design Document

## Зачем идем в разработку продукта? 
**Цель**: Создать систему для объективной оценки эффективности продавцов розничных магазинов на основе видеоанализа.  
**Основные задачи**:
- Увеличить продажи и мотивацию сотрудников через объективную оценку.
- Сократить время, затрачиваемое менеджерами на ручной анализ.
- Предоставить данные для улучшения расположения магазинов и оптимизации рабочего процесса.

---

## Бизнес-требования и ограничения
### Требования:
1. **Понятный интерфейс для менеджеров**:
   - Визуализация данных в виде дашбордов.
2. **Реализация ключевых метрик**:
   - Соотношение взаимодействий.
   - Средняя стоимость покупки с/без консультации.
   - Количество успешных и неуспешных взаимодействий.

### Ограничения:
1. **Скорость работы**:
   - Обработка видео за день не более 2 часов.
2. **Объем данных**:
   - Хранение данных в течение 3 дней.
3. **Бюджет**:
   - Использование готовых моделей (YOLOv8, StrongSORT) и облачных сервисов (Yandex Cloud).

---

## Скоуп проекта/итерации
### Входит в текущую итерацию:
1. Детекция и трекинг объектов на видео.
2. Расчет ключевых метрик производительности продавцов.
3. Визуализация результатов через Yandex Datalens.

### Не входит:
1. Анализ эмоционального состояния клиентов.
2. Полноценная интеграция с CRM.

---

## Предпосылки решения
1. **Проблема субъективности в оценке продавцов**:
   - Традиционные методы (опросы, наблюдения) ненадежны и подвержены человеческому фактору.
2. **Рост доступности технологий компьютерного зрения**:
   - Использование готовых моделей YOLO и трекинга (StrongSORT).
3. **Необходимость масштабируемого решения**:
   - Облачные сервисы для хранения и обработки больших объемов данных.

---

## Постановка задачи
Разработать систему, которая:
1. Автоматически извлекает данные из видео с помощью моделей детекции и трекинга.
2. Рассчитывает и визуализирует ключевые бизнес-метрики.
3. Интегрируется с текущими системами данных и предоставляет отчеты для менеджеров.

---

## Блок-схема решения
```mermaid
graph TD

A[Ivideon] --> B[Yandex Cloud Functions]
B --> C[Yandex Disk]
C --> D[Yandex Compute Cloud]
D --> E[Yandex Managed Service for ClickHouse]
E --> F[Yandex Datalens]
G[Google Sheets] --> E
E --> D

